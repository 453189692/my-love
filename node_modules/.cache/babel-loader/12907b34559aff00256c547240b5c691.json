{"remainingRequest":"/Users/lihsuan/code/love/my-love/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/lihsuan/code/love/my-love/src/components/js/love.js","dependencies":[{"path":"/Users/lihsuan/code/love/my-love/src/components/js/love.js","mtime":1611040573456},{"path":"/Users/lihsuan/code/love/my-love/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1610942676622},{"path":"/Users/lihsuan/code/love/my-love/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1610942676457}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdWIuanMiOwpleHBvcnQgZnVuY3Rpb24gcmFuZG9tKG1pbiwgbWF4KSB7CiAgcmV0dXJuIG1pbiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGJlemllcihjcCwgdCkgewogIHZhciBwMSA9IGNwWzBdLm11bCgoMSAtIHQpICogKDEgLSB0KSk7CiAgdmFyIHAyID0gY3BbMV0ubXVsKDIgKiB0ICogKDEgLSB0KSk7CiAgdmFyIHAzID0gY3BbMl0ubXVsKHQgKiB0KTsKICByZXR1cm4gcDEuYWRkKHAyKS5hZGQocDMpOwp9CgpmdW5jdGlvbiBpbmhlYXJ0KHgsIHksIHIpIHsKICAvLyB4XjIrKHktKHheMileKDEvMykpXjIgPSAxCiAgLy8gaHR0cDovL3d3dy53b2xmcmFtYWxwaGEuY29tL2lucHV0Lz9pPXglNUUyJTJCJTI4eS0lMjh4JTVFMiUyOSU1RSUyODElMkYzJTI5JTI5JTVFMislM0QrMQogIHZhciB6ID0gKHggLyByICogKHggLyByKSArIHkgLyByICogKHkgLyByKSAtIDEpICogKHggLyByICogKHggLyByKSArIHkgLyByICogKHkgLyByKSAtIDEpICogKHggLyByICogKHggLyByKSArIHkgLyByICogKHkgLyByKSAtIDEpIC0geCAvIHIgKiAoeCAvIHIpICogKHkgLyByKSAqICh5IC8gcikgKiAoeSAvIHIpOwogIHJldHVybiB6IDwgMDsKfQoKZXhwb3J0IHZhciBQb2ludCA9IGZ1bmN0aW9uIFBvaW50KHgsIHkpIHsKICB0aGlzLnggPSB4IHx8IDA7CiAgdGhpcy55ID0geSB8fCAwOwp9OwpQb2ludC5wcm90b3R5cGUgPSB7CiAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkgewogICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7CiAgfSwKICBhZGQ6IGZ1bmN0aW9uIGFkZChvKSB7CiAgICB2YXIgcCA9IHRoaXMuY2xvbmUoKTsKICAgIHAueCArPSBvLng7CiAgICBwLnkgKz0gby55OwogICAgcmV0dXJuIHA7CiAgfSwKICBzdWI6IGZ1bmN0aW9uIHN1YihvKSB7CiAgICB2YXIgcCA9IHRoaXMuY2xvbmUoKTsKICAgIHAueCAtPSBvLng7CiAgICBwLnkgLT0gby55OwogICAgcmV0dXJuIHA7CiAgfSwKICBkaXY6IGZ1bmN0aW9uIGRpdihuKSB7CiAgICB2YXIgcCA9IHRoaXMuY2xvbmUoKTsKICAgIHAueCAvPSBuOwogICAgcC55IC89IG47CiAgICByZXR1cm4gcDsKICB9LAogIG11bDogZnVuY3Rpb24gbXVsKG4pIHsKICAgIHZhciBwID0gdGhpcy5jbG9uZSgpOwogICAgcC54ICo9IG47CiAgICBwLnkgKj0gbjsKICAgIHJldHVybiBwOwogIH0KfTsgLy8g5b+D5b2i4p2k77iPCgp2YXIgSGVhcnQgPSBmdW5jdGlvbiBIZWFydCgpIHsKICAvLyB4ID0gMTYgc2luXjMgdAogIC8vIHkgPSAxMyBjb3MgdCAtIDUgY29zIDJ0IC0gMiBjb3MgM3QgLSBjb3MgNHQKICAvLyBodHRwOi8vd3d3LndvbGZyYW1hbHBoYS5jb20vaW5wdXQvP2k9eCslM0QrMTYrc2luJTVFMyt0JTJDK3krJTNEKygxMytjb3MrdCstKzUrY29zKzJ0Ky0rMitjb3MrM3QrLStjb3MrNHQpCiAgdmFyIHBvaW50cyA9IFtdLAogICAgICB4LAogICAgICB5LAogICAgICB0OwoKICBmb3IgKHZhciBpID0gMTA7IGkgPCAzMDsgaSArPSAwLjIpIHsKICAgIHQgPSBpIC8gTWF0aC5QSTsKICAgIHggPSAxNiAqIE1hdGgucG93KE1hdGguc2luKHQpLCAzKTsKICAgIHkgPSAxMyAqIE1hdGguY29zKHQpIC0gNSAqIE1hdGguY29zKDIgKiB0KSAtIDIgKiBNYXRoLmNvcygzICogdCkgLSBNYXRoLmNvcyg0ICogdCk7CiAgICBwb2ludHMucHVzaChuZXcgUG9pbnQoeCwgeSkpOwogIH0KCiAgdGhpcy5wb2ludHMgPSBwb2ludHM7CiAgdGhpcy5sZW5ndGggPSBwb2ludHMubGVuZ3RoOwp9OwoKSGVhcnQucHJvdG90eXBlID0gewogIGdldDogZnVuY3Rpb24gZ2V0KGksIHNjYWxlKSB7CiAgICByZXR1cm4gdGhpcy5wb2ludHNbaV0ubXVsKHNjYWxlIHx8IDEpOwogIH0KfTsgLy/kupTop5LmmJ/irZDvuI8KCnZhciBTdGFyID0gZnVuY3Rpb24gU3RhcigpIHsKICAvLyB4PTJjb3MoM3QpKzVjb3MoMnQpLAogIC8vIHk9MnNpbigzdCktNXNpbigydCkKICAvLyBodHRwczovL3d3dy53b2xmcmFtYWxwaGEuY29tL2lucHV0Lz9pPXglM0QyY29zJTI4M3QlMjklMkI1Y29zJTI4MnQlMjklMkN5JTNEMnNpbiUyODN0JTI5LTVzaW4lMjgydCUyOQogIHZhciBwb2ludHMgPSBbXSwKICAgICAgeCwKICAgICAgeSwKICAgICAgdDsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCA5OTsgaSArPSAwLjIpIHsKICAgIHQgPSBpIC8gKE1hdGguUEkgKiAyKTsKICAgIHggPSAyICogTWF0aC5jb3MoMyAqIHQpICsgNSAqIE1hdGguY29zKDIgKiB0KTsKICAgIHkgPSAyICogTWF0aC5zaW4oMyAqIHQpIC0gNSAqIE1hdGguc2luKDIgKiB0KTsKICAgIHBvaW50cy5wdXNoKG5ldyBQb2ludCh4LCB5KSk7CiAgfQoKICB0aGlzLnBvaW50cyA9IHBvaW50czsKICB0aGlzLmxlbmd0aCA9IHBvaW50cy5sZW5ndGg7Cn07CgpTdGFyLnByb3RvdHlwZSA9IHsKICBnZXQ6IGZ1bmN0aW9uIGdldChpLCBzY2FsZSkgewogICAgcmV0dXJuIHRoaXMucG9pbnRzW2ldLm11bChzY2FsZSB8fCAxKTsKICB9Cn07Cgp2YXIgU2VlZCA9IGZ1bmN0aW9uIFNlZWQodHJlZSwgcG9pbnQsIHNjYWxlcywgY29sb3JzKSB7CiAgdGhpcy50cmVlID0gdHJlZTsKICB2YXIgc2NhbGUgPSBzY2FsZXMgfHwgMTsKICB2YXIgY29sb3IgPSBjb2xvcnMgfHwgIiNGRjAwMDAiOwogIHRoaXMuaGVhcnQgPSB7CiAgICBwb2ludDogcG9pbnQsCiAgICBzY2FsZTogc2NhbGUsCiAgICBjb2xvcjogY29sb3IsCiAgICAvLyBmaWd1cmU6IG5ldyBIZWFydCgpCiAgICBmaWd1cmU6IG5ldyBTdGFyKCkKICB9OwogIHRoaXMuY2lybGUgPSB7CiAgICBwb2ludDogcG9pbnQsCiAgICBzY2FsZTogc2NhbGUsCiAgICBjb2xvcjogY29sb3IsCiAgICAvLyByYWRpdXM6IDUsCiAgICByYWRpdXM6IDMKICB9Owp9OwoKU2VlZC5wcm90b3R5cGUgPSB7CiAgZHJhdzogZnVuY3Rpb24gZHJhdygpIHsKICAgIHRoaXMuZHJhd0hlYXJ0KCk7CiAgICB0aGlzLmRyYXdUZXh0KCk7CiAgfSwKICBhZGRQb3NpdGlvbjogZnVuY3Rpb24gYWRkUG9zaXRpb24oeCwgeSkgewogICAgdGhpcy5jaXJsZS5wb2ludCA9IHRoaXMuY2lybGUucG9pbnQuYWRkKG5ldyBQb2ludCh4LCB5KSk7CiAgfSwKICBjYW5Nb3ZlOiBmdW5jdGlvbiBjYW5Nb3ZlKCkgewogICAgcmV0dXJuIHRoaXMuY2lybGUucG9pbnQueSA8IHRoaXMudHJlZS5oZWlnaHQgKyAyMDsKICB9LAogIG1vdmU6IGZ1bmN0aW9uIG1vdmUoeCwgeSkgewogICAgdGhpcy5jbGVhcigpOwogICAgdGhpcy5kcmF3Q2lybGUoKTsKICAgIHRoaXMuYWRkUG9zaXRpb24oeCwgeSk7CiAgfSwKICBjYW5TY2FsZTogZnVuY3Rpb24gY2FuU2NhbGUoKSB7CiAgICByZXR1cm4gdGhpcy5oZWFydC5zY2FsZSA+IDAuMjsKICB9LAogIHNldEhlYXJ0U2NhbGU6IGZ1bmN0aW9uIHNldEhlYXJ0U2NhbGUoc2NhbGUpIHsKICAgIHRoaXMuaGVhcnQuc2NhbGUgKj0gc2NhbGU7CiAgfSwKICBzY2FsZTogZnVuY3Rpb24gc2NhbGUoX3NjYWxlKSB7CiAgICB0aGlzLmNsZWFyKCk7CiAgICB0aGlzLmRyYXdDaXJsZSgpOwogICAgdGhpcy5kcmF3SGVhcnQoKTsKICAgIHRoaXMuc2V0SGVhcnRTY2FsZShfc2NhbGUpOwogIH0sCiAgZHJhd0hlYXJ0OiBmdW5jdGlvbiBkcmF3SGVhcnQoKSB7CiAgICB2YXIgY3R4ID0gdGhpcy50cmVlLmN0eCwKICAgICAgICBoZWFydCA9IHRoaXMuaGVhcnQ7CiAgICB2YXIgcG9pbnQgPSBoZWFydC5wb2ludCwKICAgICAgICBjb2xvciA9IGhlYXJ0LmNvbG9yLAogICAgICAgIHNjYWxlID0gaGVhcnQuc2NhbGU7CiAgICBjdHguc2F2ZSgpOwogICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yOwogICAgY3R4LnRyYW5zbGF0ZShwb2ludC54LCBwb2ludC55KTsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5tb3ZlVG8oMCwgMCk7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFydC5maWd1cmUubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHAgPSBoZWFydC5maWd1cmUuZ2V0KGksIHNjYWxlKTsKICAgICAgY3R4LmxpbmVUbyhwLngsIC1wLnkpOwogICAgfQoKICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgIGN0eC5maWxsKCk7CiAgICBjdHgucmVzdG9yZSgpOwogIH0sCiAgZHJhd0NpcmxlOiBmdW5jdGlvbiBkcmF3Q2lybGUoKSB7CiAgICB2YXIgY3R4ID0gdGhpcy50cmVlLmN0eCwKICAgICAgICBjaXJsZSA9IHRoaXMuY2lybGU7CiAgICB2YXIgcG9pbnQgPSBjaXJsZS5wb2ludCwKICAgICAgICBjb2xvciA9IGNpcmxlLmNvbG9yLAogICAgICAgIHNjYWxlID0gY2lybGUuc2NhbGUsCiAgICAgICAgcmFkaXVzID0gY2lybGUucmFkaXVzOwogICAgY3R4LnNhdmUoKTsKICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjsKICAgIGN0eC50cmFuc2xhdGUocG9pbnQueCwgcG9pbnQueSk7CiAgICBjdHguc2NhbGUoc2NhbGUsIHNjYWxlKTsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5tb3ZlVG8oMCwgMCk7CiAgICBjdHguYXJjKDAsIDAsIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpOwogICAgY3R4LmNsb3NlUGF0aCgpOwogICAgY3R4LmZpbGwoKTsKICAgIGN0eC5yZXN0b3JlKCk7CiAgfSwKICBkcmF3VGV4dDogZnVuY3Rpb24gZHJhd1RleHQoKSB7CiAgICB2YXIgY3R4ID0gdGhpcy50cmVlLmN0eCwKICAgICAgICBoZWFydCA9IHRoaXMuaGVhcnQ7CiAgICB2YXIgcG9pbnQgPSBoZWFydC5wb2ludCwKICAgICAgICBjb2xvciA9IGhlYXJ0LmNvbG9yLAogICAgICAgIHNjYWxlID0gaGVhcnQuc2NhbGU7CiAgICBjdHguc2F2ZSgpOwogICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7CiAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7CiAgICBjdHgudHJhbnNsYXRlKHBvaW50LngsIHBvaW50LnkpOwogICAgY3R4LnNjYWxlKHNjYWxlLCBzY2FsZSk7CiAgICBjdHgubW92ZVRvKDAsIDApOwogICAgY3R4LmxpbmVUbygxNSwgMTUpOwogICAgY3R4LmxpbmVUbyg2MCwgMTUpOwogICAgY3R4LnN0cm9rZSgpOwogICAgY3R4Lm1vdmVUbygwLCAwKTsKICAgIGN0eC5zY2FsZSgwLjc1LCAwLjc1KTsKICAgIGN0eC5mb250ID0gIjEycHgg5b6u6L2v6ZuF6buRLFZlcmRhbmEiOyAvLyDlrZflj7fogr/kuYjmsqHmnInnlKg/ICjLiSjiiJ4py4kpCgogICAgY3R4LmZpbGxUZXh0KCJjbGljayBoZXJlIiwgMjMsIDE2KTsKICAgIGN0eC5yZXN0b3JlKCk7CiAgfSwKICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICB2YXIgY3R4ID0gdGhpcy50cmVlLmN0eCwKICAgICAgICBjaXJsZSA9IHRoaXMuY2lybGU7CiAgICB2YXIgcG9pbnQgPSBjaXJsZS5wb2ludCwKICAgICAgICBzY2FsZSA9IGNpcmxlLnNjYWxlLAogICAgICAgIHJhZGl1cyA9IDI2OwogICAgdmFyIGg7CiAgICB2YXIgdyA9IGggPSByYWRpdXMgKiBzY2FsZTsKICAgIGN0eC5jbGVhclJlY3QocG9pbnQueCAtIHcsIHBvaW50LnkgLSBoLCA0ICogdywgNCAqIGgpOwogIH0sCiAgaG92ZXI6IGZ1bmN0aW9uIGhvdmVyKHgsIHkpIHsKICAgIHZhciBjdHggPSB0aGlzLnRyZWUuY3R4OwogICAgdmFyIHBpeGVsID0gY3R4LmdldEltYWdlRGF0YSh4LCB5LCAxLCAxKTsKICAgIHJldHVybiBwaXhlbC5kYXRhWzNdID09PSAyNTU7CiAgfQp9OwoKdmFyIEZvb3RlciA9IGZ1bmN0aW9uIEZvb3Rlcih0cmVlLCB3aWR0aCwgaGVpZ2h0LCBzcGVlZCkgewogIHRoaXMudHJlZSA9IHRyZWU7CiAgdGhpcy5wb2ludCA9IG5ldyBQb2ludCh0cmVlLnNlZWQuaGVhcnQucG9pbnQueCwgdHJlZS5oZWlnaHQgLSBoZWlnaHQgLyAyKTsKICB0aGlzLndpZHRoID0gd2lkdGg7CiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CiAgdGhpcy5zcGVlZCA9IHNwZWVkIHx8IDI7CiAgdGhpcy5sZW5ndGggPSAwOwp9OwoKRm9vdGVyLnByb3RvdHlwZSA9IHsKICBkcmF3OiBmdW5jdGlvbiBkcmF3KCkgewogICAgdmFyIGN0eCA9IHRoaXMudHJlZS5jdHgsCiAgICAgICAgcG9pbnQgPSB0aGlzLnBvaW50OwogICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoIC8gMjsKICAgIGN0eC5zYXZlKCk7CiAgICBjdHguc3Ryb2tlU3R5bGUgPSAicmdiKDM1LCAzMSwgMzIpIjsKICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmhlaWdodDsKICAgIGN0eC5saW5lQ2FwID0gInJvdW5kIjsKICAgIGN0eC5saW5lSm9pbiA9ICJyb3VuZCI7CiAgICBjdHgudHJhbnNsYXRlKHBvaW50LngsIHBvaW50LnkpOwogICAgY3R4LmJlZ2luUGF0aCgpOwogICAgY3R4Lm1vdmVUbygwLCAwKTsKICAgIGN0eC5saW5lVG8obGVuLCAwKTsKICAgIGN0eC5saW5lVG8oLWxlbiwgMCk7CiAgICBjdHguc3Ryb2tlKCk7CiAgICBjdHgucmVzdG9yZSgpOwoKICAgIGlmICh0aGlzLmxlbmd0aCA8IHRoaXMud2lkdGgpIHsKICAgICAgdGhpcy5sZW5ndGggKz0gdGhpcy5zcGVlZDsKICAgIH0KICB9Cn07CmV4cG9ydCB2YXIgVHJlZSA9IGZ1bmN0aW9uIFRyZWUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCBvcHQpIHsKICB0aGlzLmNhbnZhcyA9IGNhbnZhczsKICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogIHRoaXMud2lkdGggPSB3aWR0aDsKICB0aGlzLmhlaWdodCA9IGhlaWdodDsKICB0aGlzLm9wdCA9IG9wdCB8fCB7fTsKICB0aGlzLnJlY29yZCA9IHt9OwogIHRoaXMuaW5pdFNlZWQoKTsKICB0aGlzLmluaXRGb290ZXIoKTsKICB0aGlzLmluaXRCcmFuY2goKTsKICB0aGlzLmluaXRCbG9vbSgpOwp9OwpUcmVlLnByb3RvdHlwZSA9IHsKICBpbml0U2VlZDogZnVuY3Rpb24gaW5pdFNlZWQoKSB7CiAgICB2YXIgc2VlZCA9IHRoaXMub3B0LnNlZWQgfHwge307CiAgICB2YXIgeCA9IHNlZWQueCB8fCB0aGlzLndpZHRoIC8gMjsKICAgIHZhciB5ID0gc2VlZC55IHx8IHRoaXMuaGVpZ2h0IC8gMjsKICAgIHZhciBwb2ludCA9IG5ldyBQb2ludCh4LCB5KTsKICAgIHZhciBjb2xvciA9IHNlZWQuY29sb3IgfHwgIiNGRjAwMDAiOwogICAgdmFyIHNjYWxlID0gc2VlZC5zY2FsZSB8fCAxOwogICAgdGhpcy5zZWVkID0gbmV3IFNlZWQodGhpcywgcG9pbnQsIHNjYWxlLCBjb2xvcik7CiAgfSwKICBpbml0Rm9vdGVyOiBmdW5jdGlvbiBpbml0Rm9vdGVyKCkgewogICAgdmFyIGZvb3RlciA9IHRoaXMub3B0LmZvb3RlciB8fCB7fTsKICAgIHZhciB3aWR0aCA9IGZvb3Rlci53aWR0aCB8fCB0aGlzLndpZHRoOwogICAgdmFyIGhlaWdodCA9IGZvb3Rlci5oZWlnaHQgfHwgNTsKICAgIHZhciBzcGVlZCA9IGZvb3Rlci5zcGVlZCB8fCAyOwogICAgdGhpcy5mb290ZXIgPSBuZXcgRm9vdGVyKHRoaXMsIHdpZHRoLCBoZWlnaHQsIHNwZWVkKTsKICB9LAogIGluaXRCcmFuY2g6IGZ1bmN0aW9uIGluaXRCcmFuY2goKSB7CiAgICB2YXIgYnJhbmNocyA9IHRoaXMub3B0LmJyYW5jaCB8fCBbXTsKICAgIHRoaXMuYnJhbmNocyA9IFtdOwogICAgdGhpcy5hZGRCcmFuY2hzKGJyYW5jaHMpOwogIH0sCiAgaW5pdEJsb29tOiBmdW5jdGlvbiBpbml0Qmxvb20oKSB7CiAgICB2YXIgYmxvb20gPSB0aGlzLm9wdC5ibG9vbSB8fCB7fTsKICAgIHZhciBjYWNoZSA9IFtdLAogICAgICAgIG51bSA9IGJsb29tLm51bSB8fCA1MDAsCiAgICAgICAgd2lkdGggPSBibG9vbS53aWR0aCB8fCB0aGlzLndpZHRoLAogICAgICAgIGhlaWdodCA9IGJsb29tLmhlaWdodCB8fCB0aGlzLmhlaWdodCwKICAgICAgICBmaWd1cmUgPSB0aGlzLnNlZWQuaGVhcnQuZmlndXJlLAogICAgICAgIHNjYWxlID0gYmxvb20uc2NhbGUgfHwgMTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCgogICAgdmFyIHIgPSAyNDA7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW07IGkrKykgewogICAgICBjYWNoZS5wdXNoKHRoaXMuY3JlYXRlQmxvb20od2lkdGgsIGhlaWdodCwgciwgZmlndXJlLCBudWxsLCBudWxsLCBudWxsLCBzY2FsZSwgbnVsbCwgbnVsbCkpOwogICAgfQoKICAgIHRoaXMuYmxvb21zID0gW107CiAgICB0aGlzLmJsb29tc0NhY2hlID0gY2FjaGU7CiAgfSwKICB0b0RhdGFVUkw6IGZ1bmN0aW9uIHRvRGF0YVVSTCh0eXBlKSB7CiAgICByZXR1cm4gdGhpcy5jYW52YXMudG9EYXRhVVJMKHR5cGUpOwogIH0sCiAgZHJhdzogZnVuY3Rpb24gZHJhdyhrKSB7CiAgICB2YXIgcyA9IHRoaXMsCiAgICAgICAgY3R4ID0gcy5jdHg7CiAgICB2YXIgcmVjID0gcy5yZWNvcmRba107CgogICAgaWYgKCFyZWMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBwb2ludCA9IHJlYy5wb2ludCwKICAgICAgICBpbWFnZSA9IHJlYy5pbWFnZTsKICAgIGN0eC5zYXZlKCk7CiAgICBjdHgucHV0SW1hZ2VEYXRhKGltYWdlLCBwb2ludC54LCBwb2ludC55KTsKICAgIGN0eC5yZXN0b3JlKCk7CiAgfSwKICBhZGRCcmFuY2g6IGZ1bmN0aW9uIGFkZEJyYW5jaChicmFuY2gpIHsKICAgIHRoaXMuYnJhbmNocy5wdXNoKGJyYW5jaCk7CiAgfSwKICBhZGRCcmFuY2hzOiBmdW5jdGlvbiBhZGRCcmFuY2hzKGJyYW5jaHMpIHsKICAgIHZhciBzID0gdGhpcywKICAgICAgICBiLAogICAgICAgIHAxLAogICAgICAgIHAyLAogICAgICAgIHAzLAogICAgICAgIHIsCiAgICAgICAgbCwKICAgICAgICBjOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnJhbmNocy5sZW5ndGg7IGkrKykgewogICAgICBiID0gYnJhbmNoc1tpXTsKICAgICAgcDEgPSBuZXcgUG9pbnQoYlswXSwgYlsxXSk7CiAgICAgIHAyID0gbmV3IFBvaW50KGJbMl0sIGJbM10pOwogICAgICBwMyA9IG5ldyBQb2ludChiWzRdLCBiWzVdKTsKICAgICAgciA9IGJbNl07CiAgICAgIGwgPSBiWzddOwogICAgICBjID0gYls4XTsKICAgICAgcy5hZGRCcmFuY2gobmV3IEJyYW5jaChzLCBwMSwgcDIsIHAzLCByLCBsLCBjKSk7CiAgICB9CiAgfSwKICByZW1vdmVCcmFuY2g6IGZ1bmN0aW9uIHJlbW92ZUJyYW5jaChicmFuY2gpIHsKICAgIHZhciBicmFuY2hzID0gdGhpcy5icmFuY2hzOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnJhbmNocy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoYnJhbmNoc1tpXSA9PT0gYnJhbmNoKSB7CiAgICAgICAgYnJhbmNocy5zcGxpY2UoaSwgMSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNhbkdyb3c6IGZ1bmN0aW9uIGNhbkdyb3coKSB7CiAgICByZXR1cm4gISF0aGlzLmJyYW5jaHMubGVuZ3RoOwogIH0sCiAgZ3JvdzogZnVuY3Rpb24gZ3JvdygpIHsKICAgIHZhciBicmFuY2hzID0gdGhpcy5icmFuY2hzOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnJhbmNocy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgYnJhbmNoID0gYnJhbmNoc1tpXTsKCiAgICAgIGlmIChicmFuY2gpIHsKICAgICAgICBicmFuY2guZ3JvdygpOwogICAgICB9CiAgICB9CiAgfSwKICBhZGRCbG9vbTogZnVuY3Rpb24gYWRkQmxvb20oYmxvb20pIHsKICAgIHRoaXMuYmxvb21zLnB1c2goYmxvb20pOwogIH0sCiAgcmVtb3ZlQmxvb206IGZ1bmN0aW9uIHJlbW92ZUJsb29tKGJsb29tKSB7CiAgICB2YXIgYmxvb21zID0gdGhpcy5ibG9vbXM7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9vbXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGJsb29tc1tpXSA9PT0gYmxvb20pIHsKICAgICAgICBibG9vbXMuc3BsaWNlKGksIDEpOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVCbG9vbTogZnVuY3Rpb24gY3JlYXRlQmxvb20od2lkdGgsIGhlaWdodCwgcmFkaXVzLCBmaWd1cmUsIGNvbG9yLCBhbHBoYSwgYW5nbGUsIHNjYWxlLCBwbGFjZSwgc3BlZWQpIHsKICAgIHZhciB4LCB5OwogICAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbImVycm9yIiwgeyAiY2hlY2tMb29wcyI6IGZhbHNlIH1dKi8KCiAgICB3aGlsZSAodHJ1ZSkgewogICAgICB4ID0gcmFuZG9tKDIwLCB3aWR0aCAtIDIwKTsKICAgICAgeSA9IHJhbmRvbSgyMCwgaGVpZ2h0IC0gMjApOwoKICAgICAgaWYgKGluaGVhcnQoeCAtIHdpZHRoIC8gMiwgaGVpZ2h0IC0gKGhlaWdodCAtIDQwKSAvIDIgLSB5LCByYWRpdXMpKSB7CiAgICAgICAgcmV0dXJuIG5ldyBCbG9vbSh0aGlzLCBuZXcgUG9pbnQoeCwgeSksIGZpZ3VyZSwgY29sb3IsIGFscGhhLCBhbmdsZSwgc2NhbGUsIHBsYWNlLCBzcGVlZCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNhbkZsb3dlcjogZnVuY3Rpb24gY2FuRmxvd2VyKCkgewogICAgcmV0dXJuICEhdGhpcy5ibG9vbXMubGVuZ3RoOwogIH0sCiAgZmxvd2VyOiBmdW5jdGlvbiBmbG93ZXIobnVtKSB7CiAgICB2YXIgcyA9IHRoaXMsCiAgICAgICAgYmxvb21zID0gcy5ibG9vbXNDYWNoZS5zcGxpY2UoMCwgbnVtKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb29tcy5sZW5ndGg7IGkrKykgewogICAgICBzLmFkZEJsb29tKGJsb29tc1tpXSk7CiAgICB9CgogICAgYmxvb21zID0gcy5ibG9vbXM7CgogICAgZm9yICh2YXIgaiA9IDA7IGogPCBibG9vbXMubGVuZ3RoOyBqKyspIHsKICAgICAgYmxvb21zW2pdLmZsb3dlcigpOwogICAgfQogIH0sCiAgc25hcHNob3Q6IGZ1bmN0aW9uIHNuYXBzaG90KGssIHgsIHksIHdpZHRoLCBoZWlnaHQpIHsKICAgIHZhciBjdHggPSB0aGlzLmN0eDsKICAgIHZhciBpbWFnZSA9IGN0eC5nZXRJbWFnZURhdGEoeCwgeSwgd2lkdGgsIGhlaWdodCk7CiAgICB0aGlzLnJlY29yZFtrXSA9IHsKICAgICAgaW1hZ2U6IGltYWdlLAogICAgICBwb2ludDogbmV3IFBvaW50KHgsIHkpLAogICAgICB3aWR0aDogd2lkdGgsCiAgICAgIGhlaWdodDogaGVpZ2h0CiAgICB9OwogIH0sCiAgc2V0U3BlZWQ6IGZ1bmN0aW9uIHNldFNwZWVkKGssIHNwZWVkKSB7CiAgICB0aGlzLnJlY29yZFtrIHx8ICJtb3ZlIl0uc3BlZWQgPSBzcGVlZDsKICB9LAogIG1vdmU6IGZ1bmN0aW9uIG1vdmUoaywgeCwgeSkgewogICAgdmFyIHMgPSB0aGlzLAogICAgICAgIGN0eCA9IHMuY3R4OwogICAgdmFyIHJlYyA9IHMucmVjb3JkW2sgfHwgIm1vdmUiXTsKICAgIHZhciBwb2ludCA9IHJlYy5wb2ludCwKICAgICAgICBpbWFnZSA9IHJlYy5pbWFnZSwKICAgICAgICBzcGVlZCA9IHJlYy5zcGVlZCB8fCAxMCwKICAgICAgICB3aWR0aCA9IHJlYy53aWR0aCwKICAgICAgICBoZWlnaHQgPSByZWMuaGVpZ2h0OwogICAgdmFyIGkgPSBwb2ludC54ICsgc3BlZWQgPCB4ID8gcG9pbnQueCArIHNwZWVkIDogeDsKICAgIHZhciBqID0gcG9pbnQueSArIHNwZWVkIDwgeSA/IHBvaW50LnkgKyBzcGVlZCA6IHk7CiAgICBjdHguc2F2ZSgpOwogICAgY3R4LmNsZWFyUmVjdChwb2ludC54LCBwb2ludC55LCB3aWR0aCwgaGVpZ2h0KTsKICAgIGN0eC5wdXRJbWFnZURhdGEoaW1hZ2UsIGksIGopOwogICAgY3R4LnJlc3RvcmUoKTsKICAgIHJlYy5wb2ludCA9IG5ldyBQb2ludChpLCBqKTsKICAgIHJlYy5zcGVlZCA9IHNwZWVkICogMC45NTsKCiAgICBpZiAocmVjLnNwZWVkIDwgMikgewogICAgICByZWMuc3BlZWQgPSAyOwogICAgfQoKICAgIHJldHVybiBpIDwgeCB8fCBqIDwgeTsKICB9LAogIGp1bXA6IGZ1bmN0aW9uIGp1bXAoKSB7CiAgICB2YXIgcyA9IHRoaXMsCiAgICAgICAgYmxvb21zID0gcy5ibG9vbXM7CgogICAgaWYgKGJsb29tcy5sZW5ndGgpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9vbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBibG9vbXNbaV0uanVtcCgpOwogICAgICB9CiAgICB9CgogICAgaWYgKGJsb29tcy5sZW5ndGggJiYgYmxvb21zLmxlbmd0aCA8IDMgfHwgIWJsb29tcy5sZW5ndGgpIHsKICAgICAgdmFyIGJsb29tID0gdGhpcy5vcHQuYmxvb20gfHwge30sCiAgICAgICAgICB3aWR0aCA9IGJsb29tLndpZHRoIHx8IHRoaXMud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSBibG9vbS5oZWlnaHQgfHwgdGhpcy5oZWlnaHQsCiAgICAgICAgICBmaWd1cmUgPSB0aGlzLnNlZWQuaGVhcnQuZmlndXJlOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKCiAgICAgIHZhciByID0gMjQwOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlCgogICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgcmFuZG9tKDEsIDIpOyBfaSsrKSB7CiAgICAgICAgYmxvb21zLnB1c2godGhpcy5jcmVhdGVCbG9vbSh3aWR0aCAvIDIgKyB3aWR0aCwgaGVpZ2h0LCByLCBmaWd1cmUsIG51bGwsIDEsIG51bGwsIGJsb29tLnNjYWxlLCBuZXcgUG9pbnQocmFuZG9tKC0xMDAsIDYwMCksIDcyMCksIHJhbmRvbSgyMDAsIDMwMCkpKTsKICAgICAgfQogICAgfQogIH0KfTsKCnZhciBCcmFuY2ggPSBmdW5jdGlvbiBCcmFuY2godHJlZSwgcG9pbnQxLCBwb2ludDIsIHBvaW50MywgcmFkaXVzLCBsZW5ndGgsIGJyYW5jaHMpIHsKICB0aGlzLnRyZWUgPSB0cmVlOwogIHRoaXMucG9pbnQxID0gcG9pbnQxOwogIHRoaXMucG9pbnQyID0gcG9pbnQyOwogIHRoaXMucG9pbnQzID0gcG9pbnQzOwogIHRoaXMucmFkaXVzID0gcmFkaXVzOwogIHRoaXMubGVuZ3RoID0gbGVuZ3RoIHx8IDEwMDsKICB0aGlzLmxlbiA9IDA7CiAgdGhpcy50ID0gMSAvICh0aGlzLmxlbmd0aCAtIDEpOwogIHRoaXMuYnJhbmNocyA9IGJyYW5jaHMgfHwgW107Cn07CgpCcmFuY2gucHJvdG90eXBlID0gewogIGdyb3c6IGZ1bmN0aW9uIGdyb3coKSB7CiAgICB2YXIgcyA9IHRoaXMsCiAgICAgICAgcDsKCiAgICBpZiAocy5sZW4gPD0gcy5sZW5ndGgpIHsKICAgICAgcCA9IGJlemllcihbcy5wb2ludDEsIHMucG9pbnQyLCBzLnBvaW50M10sIHMubGVuICogcy50KTsKICAgICAgcy5kcmF3KHApOwogICAgICBzLmxlbiArPSAxOwogICAgICBzLnJhZGl1cyAqPSAwLjk3OwogICAgfSBlbHNlIHsKICAgICAgcy50cmVlLnJlbW92ZUJyYW5jaChzKTsKICAgICAgcy50cmVlLmFkZEJyYW5jaHMocy5icmFuY2hzKTsKICAgIH0KICB9LAogIGRyYXc6IGZ1bmN0aW9uIGRyYXcocCkgewogICAgdmFyIHMgPSB0aGlzOwogICAgdmFyIGN0eCA9IHMudHJlZS5jdHg7CiAgICBjdHguc2F2ZSgpOwogICAgY3R4LmJlZ2luUGF0aCgpOwogICAgY3R4LmZpbGxTdHlsZSA9ICJyZ2IoMzUsIDMxLCAzMikiOwogICAgY3R4LnNoYWRvd0NvbG9yID0gInJnYigzNSwgMzEsIDMyKSI7CiAgICBjdHguc2hhZG93Qmx1ciA9IDI7CiAgICBjdHgubW92ZVRvKHAueCwgcC55KTsKICAgIGN0eC5hcmMocC54LCBwLnksIHMucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7CiAgICBjdHguY2xvc2VQYXRoKCk7CiAgICBjdHguZmlsbCgpOwogICAgY3R4LnJlc3RvcmUoKTsKICB9Cn07Cgp2YXIgQmxvb20gPSBmdW5jdGlvbiBCbG9vbSh0cmVlLCBwb2ludCwgZmlndXJlLCBjb2xvciwgYWxwaGEsIGFuZ2xlLCBzY2FsZSwgcGxhY2UsIHNwZWVkKSB7CiAgdGhpcy50cmVlID0gdHJlZTsKICB0aGlzLnBvaW50ID0gcG9pbnQ7CiAgdGhpcy5jb2xvciA9IGNvbG9yIHx8ICJyZ2IoMjU1LCIgKyByYW5kb20oMCwgMjU1KSArICIsIiArIHJhbmRvbSgwLCAyNTUpICsgIikiOwogIHRoaXMuYWxwaGEgPSBhbHBoYSB8fCByYW5kb20oMC4zLCAxKTsKICB0aGlzLmFuZ2xlID0gYW5nbGUgfHwgcmFuZG9tKDAsIDM2MCk7CiAgdGhpcy5zY2FsZSA9IHNjYWxlIHx8IDAuMTsKICB0aGlzLnBsYWNlID0gcGxhY2U7CiAgdGhpcy5zcGVlZCA9IHNwZWVkOwogIHRoaXMuZmlndXJlID0gZmlndXJlOwp9OwoKQmxvb20ucHJvdG90eXBlID0gewogIHNldEZpZ3VyZTogZnVuY3Rpb24gc2V0RmlndXJlKGZpZ3VyZSkgewogICAgdGhpcy5maWd1cmUgPSBmaWd1cmU7CiAgfSwKICBmbG93ZXI6IGZ1bmN0aW9uIGZsb3dlcigpIHsKICAgIHZhciBzID0gdGhpczsKICAgIHMuZHJhdygpOwogICAgcy5zY2FsZSArPSAwLjE7CgogICAgaWYgKHMuc2NhbGUgPiAxKSB7CiAgICAgIHMudHJlZS5yZW1vdmVCbG9vbShzKTsKICAgIH0KICB9LAogIGRyYXc6IGZ1bmN0aW9uIGRyYXcoKSB7CiAgICB2YXIgcyA9IHRoaXMsCiAgICAgICAgY3R4ID0gcy50cmVlLmN0eCwKICAgICAgICBmaWd1cmUgPSBzLmZpZ3VyZTsKICAgIGN0eC5zYXZlKCk7CiAgICBjdHguZmlsbFN0eWxlID0gcy5jb2xvcjsKICAgIGN0eC5nbG9iYWxBbHBoYSA9IHMuYWxwaGE7CiAgICBjdHgudHJhbnNsYXRlKHMucG9pbnQueCwgcy5wb2ludC55KTsKICAgIGN0eC5zY2FsZShzLnNjYWxlLCBzLnNjYWxlKTsKICAgIGN0eC5yb3RhdGUocy5hbmdsZSk7CiAgICBjdHguYmVnaW5QYXRoKCk7CiAgICBjdHgubW92ZVRvKDAsIDApOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlndXJlLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBwID0gZmlndXJlLmdldChpKTsKICAgICAgY3R4LmxpbmVUbyhwLngsIC1wLnkpOwogICAgfQoKICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgIGN0eC5maWxsKCk7CiAgICBjdHgucmVzdG9yZSgpOwogIH0sCiAganVtcDogZnVuY3Rpb24ganVtcCgpIHsKICAgIHZhciBzID0gdGhpcywKICAgICAgICBoZWlnaHQgPSBzLnRyZWUuaGVpZ2h0OwoKICAgIGlmIChzLnBvaW50LnggPCAtMjAgfHwgcy5wb2ludC55ID4gaGVpZ2h0ICsgMjApIHsKICAgICAgcy50cmVlLnJlbW92ZUJsb29tKHMpOwogICAgfSBlbHNlIHsKICAgICAgcy5kcmF3KCk7CiAgICAgIHMucG9pbnQgPSBzLnBsYWNlLnN1YihzLnBvaW50KS5kaXYocy5zcGVlZCkuYWRkKHMucG9pbnQpOwogICAgICBzLmFuZ2xlICs9IDAuMDU7CiAgICAgIHMuc3BlZWQgLT0gMTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/lihsuan/code/love/my-love/src/components/js/love.js"],"names":["random","min","max","Math","floor","bezier","cp","t","p1","mul","p2","p3","add","inheart","x","y","r","z","Point","prototype","clone","o","p","sub","div","n","Heart","points","i","PI","pow","sin","cos","push","length","get","scale","Star","Seed","tree","point","scales","colors","color","heart","figure","cirle","radius","draw","drawHeart","drawText","addPosition","canMove","height","move","clear","drawCirle","canScale","setHeartScale","ctx","save","fillStyle","translate","beginPath","moveTo","lineTo","closePath","fill","restore","arc","strokeStyle","stroke","font","fillText","h","w","clearRect","hover","pixel","getImageData","data","Footer","width","speed","seed","len","lineWidth","lineCap","lineJoin","Tree","canvas","opt","getContext","record","initSeed","initFooter","initBranch","initBloom","footer","branchs","branch","addBranchs","bloom","cache","num","createBloom","blooms","bloomsCache","toDataURL","type","k","s","rec","image","putImageData","addBranch","b","l","c","Branch","removeBranch","splice","canGrow","grow","addBloom","removeBloom","alpha","angle","place","Bloom","canFlower","flower","j","snapshot","setSpeed","jump","point1","point2","point3","shadowColor","shadowBlur","setFigure","globalAlpha","rotate"],"mappings":"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","sourcesContent":["export function random(min, max) {\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n\nexport function bezier(cp, t) {\n  let p1 = cp[0].mul((1 - t) * (1 - t));\n  let p2 = cp[1].mul(2 * t * (1 - t));\n  let p3 = cp[2].mul(t * t);\n  return p1.add(p2).add(p3);\n}\n\nfunction inheart(x, y, r) {\n  // x^2+(y-(x^2)^(1/3))^2 = 1\n  // http://www.wolframalpha.com/input/?i=x%5E2%2B%28y-%28x%5E2%29%5E%281%2F3%29%29%5E2+%3D+1\n  let z =\n    ((x / r) * (x / r) + (y / r) * (y / r) - 1) *\n      ((x / r) * (x / r) + (y / r) * (y / r) - 1) *\n      ((x / r) * (x / r) + (y / r) * (y / r) - 1) -\n    (x / r) * (x / r) * (y / r) * (y / r) * (y / r);\n  return z < 0;\n}\n\nexport let Point = function(x, y) {\n  this.x = x || 0;\n  this.y = y || 0;\n};\nPoint.prototype = {\n  clone: function() {\n    return new Point(this.x, this.y);\n  },\n  add: function(o) {\n    let p = this.clone();\n    p.x += o.x;\n    p.y += o.y;\n    return p;\n  },\n  sub: function(o) {\n    let p = this.clone();\n    p.x -= o.x;\n    p.y -= o.y;\n    return p;\n  },\n  div: function(n) {\n    let p = this.clone();\n    p.x /= n;\n    p.y /= n;\n    return p;\n  },\n  mul: function(n) {\n    let p = this.clone();\n    p.x *= n;\n    p.y *= n;\n    return p;\n  }\n};\n\n// 心形❤️\nlet Heart = function() {\n  // x = 16 sin^3 t\n  // y = 13 cos t - 5 cos 2t - 2 cos 3t - cos 4t\n  // http://www.wolframalpha.com/input/?i=x+%3D+16+sin%5E3+t%2C+y+%3D+(13+cos+t+-+5+cos+2t+-+2+cos+3t+-+cos+4t)\n  let points = [],\n    x,\n    y,\n    t;\n  for (let i = 10; i < 30; i += 0.2) {\n    t = i / Math.PI;\n    x = 16 * Math.pow(Math.sin(t), 3);\n    y =\n      13 * Math.cos(t) -\n      5 * Math.cos(2 * t) -\n      2 * Math.cos(3 * t) -\n      Math.cos(4 * t);\n    points.push(new Point(x, y));\n  }\n  this.points = points;\n  this.length = points.length;\n};\nHeart.prototype = {\n  get: function(i, scale) {\n    return this.points[i].mul(scale || 1);\n  }\n};\n\n//五角星⭐️\nlet Star = function() {\n  // x=2cos(3t)+5cos(2t),\n  // y=2sin(3t)-5sin(2t)\n  // https://www.wolframalpha.com/input/?i=x%3D2cos%283t%29%2B5cos%282t%29%2Cy%3D2sin%283t%29-5sin%282t%29\n  let points = [],\n    x,\n    y,\n    t;\n  for (let i = 0; i < 99; i += 0.2) {\n    t = i / (Math.PI * 2);\n    x = 2 * Math.cos(3 * t) + 5 * Math.cos(2 * t);\n    y = 2 * Math.sin(3 * t) - 5 * Math.sin(2 * t);\n    points.push(new Point(x, y));\n  }\n  this.points = points;\n  this.length = points.length;\n};\nStar.prototype = {\n  get: function(i, scale) {\n    return this.points[i].mul(scale || 1);\n  }\n};\n\nlet Seed = function(tree, point, scales, colors) {\n  this.tree = tree;\n\n  let scale = scales || 1;\n  let color = colors || \"#FF0000\";\n\n  this.heart = {\n    point: point,\n    scale: scale,\n    color: color,\n    // figure: new Heart()\n    figure: new Star()\n  };\n\n  this.cirle = {\n    point: point,\n    scale: scale,\n    color: color,\n    // radius: 5,\n    radius: 3\n  };\n};\nSeed.prototype = {\n  draw: function() {\n    this.drawHeart();\n    this.drawText();\n  },\n  addPosition: function(x, y) {\n    this.cirle.point = this.cirle.point.add(new Point(x, y));\n  },\n  canMove: function() {\n    return this.cirle.point.y < this.tree.height + 20;\n  },\n  move: function(x, y) {\n    this.clear();\n    this.drawCirle();\n    this.addPosition(x, y);\n  },\n  canScale: function() {\n    return this.heart.scale > 0.2;\n  },\n  setHeartScale: function(scale) {\n    this.heart.scale *= scale;\n  },\n  scale: function(scale) {\n    this.clear();\n    this.drawCirle();\n    this.drawHeart();\n    this.setHeartScale(scale);\n  },\n  drawHeart: function() {\n    let ctx = this.tree.ctx,\n      heart = this.heart;\n    let point = heart.point,\n      color = heart.color,\n      scale = heart.scale;\n    ctx.save();\n    ctx.fillStyle = color;\n    ctx.translate(point.x, point.y);\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    for (let i = 0; i < heart.figure.length; i++) {\n      let p = heart.figure.get(i, scale);\n      ctx.lineTo(p.x, -p.y);\n    }\n    ctx.closePath();\n    ctx.fill();\n    ctx.restore();\n  },\n  drawCirle: function() {\n    let ctx = this.tree.ctx,\n      cirle = this.cirle;\n    let point = cirle.point,\n      color = cirle.color,\n      scale = cirle.scale,\n      radius = cirle.radius;\n    ctx.save();\n    ctx.fillStyle = color;\n    ctx.translate(point.x, point.y);\n    ctx.scale(scale, scale);\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.arc(0, 0, radius, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.fill();\n    ctx.restore();\n  },\n  drawText: function() {\n    let ctx = this.tree.ctx,\n      heart = this.heart;\n    let point = heart.point,\n      color = heart.color,\n      scale = heart.scale;\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.fillStyle = color;\n    ctx.translate(point.x, point.y);\n    ctx.scale(scale, scale);\n    ctx.moveTo(0, 0);\n    ctx.lineTo(15, 15);\n    ctx.lineTo(60, 15);\n    ctx.stroke();\n\n    ctx.moveTo(0, 0);\n    ctx.scale(0.75, 0.75);\n    ctx.font = \"12px 微软雅黑,Verdana\"; // 字号肿么没有用? (ˉ(∞)ˉ)\n    ctx.fillText(\"click here\", 23, 16);\n    ctx.restore();\n  },\n  clear: function() {\n    let ctx = this.tree.ctx,\n      cirle = this.cirle;\n    let point = cirle.point,\n      scale = cirle.scale,\n      radius = 26;\n    let h;\n    let w = (h = radius * scale);\n    ctx.clearRect(point.x - w, point.y - h, 4 * w, 4 * h);\n  },\n  hover: function(x, y) {\n    let ctx = this.tree.ctx;\n    let pixel = ctx.getImageData(x, y, 1, 1);\n    return pixel.data[3] === 255;\n  }\n};\n\nlet Footer = function(tree, width, height, speed) {\n  this.tree = tree;\n  this.point = new Point(tree.seed.heart.point.x, tree.height - height / 2);\n  this.width = width;\n  this.height = height;\n  this.speed = speed || 2;\n  this.length = 0;\n};\nFooter.prototype = {\n  draw: function() {\n    let ctx = this.tree.ctx,\n      point = this.point;\n    let len = this.length / 2;\n\n    ctx.save();\n    ctx.strokeStyle = \"rgb(35, 31, 32)\";\n    ctx.lineWidth = this.height;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.translate(point.x, point.y);\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(len, 0);\n    ctx.lineTo(-len, 0);\n    ctx.stroke();\n    ctx.restore();\n\n    if (this.length < this.width) {\n      this.length += this.speed;\n    }\n  }\n};\n\nexport let Tree = function(canvas, width, height, opt) {\n  this.canvas = canvas;\n  this.ctx = canvas.getContext(\"2d\");\n  this.width = width;\n  this.height = height;\n  this.opt = opt || {};\n\n  this.record = {};\n\n  this.initSeed();\n  this.initFooter();\n  this.initBranch();\n  this.initBloom();\n};\nTree.prototype = {\n  initSeed: function() {\n    let seed = this.opt.seed || {};\n    let x = seed.x || this.width / 2;\n    let y = seed.y || this.height / 2;\n    let point = new Point(x, y);\n    let color = seed.color || \"#FF0000\";\n    let scale = seed.scale || 1;\n\n    this.seed = new Seed(this, point, scale, color);\n  },\n\n  initFooter: function() {\n    let footer = this.opt.footer || {};\n    let width = footer.width || this.width;\n    let height = footer.height || 5;\n    let speed = footer.speed || 2;\n    this.footer = new Footer(this, width, height, speed);\n  },\n\n  initBranch: function() {\n    let branchs = this.opt.branch || [];\n    this.branchs = [];\n    this.addBranchs(branchs);\n  },\n\n  initBloom: function() {\n    let bloom = this.opt.bloom || {};\n    let cache = [],\n      num = bloom.num || 500,\n      width = bloom.width || this.width,\n      height = bloom.height || this.height,\n      figure = this.seed.heart.figure,\n      scale = bloom.scale || 1;\n    // eslint-disable-next-line no-unused-vars\n    let r = 240;\n    for (let i = 0; i < num; i++) {\n      cache.push(\n        this.createBloom(\n          width,\n          height,\n          r,\n          figure,\n          null,\n          null,\n          null,\n          scale,\n          null,\n          null\n        )\n      );\n    }\n    this.blooms = [];\n    this.bloomsCache = cache;\n  },\n\n  toDataURL: function(type) {\n    return this.canvas.toDataURL(type);\n  },\n\n  draw: function(k) {\n    let s = this,\n      ctx = s.ctx;\n    let rec = s.record[k];\n    if (!rec) {\n      return;\n    }\n    let point = rec.point,\n      image = rec.image;\n\n    ctx.save();\n    ctx.putImageData(image, point.x, point.y);\n    ctx.restore();\n  },\n\n  addBranch: function(branch) {\n    this.branchs.push(branch);\n  },\n\n  addBranchs: function(branchs) {\n    let s = this,\n      b,\n      p1,\n      p2,\n      p3,\n      r,\n      l,\n      c;\n    for (let i = 0; i < branchs.length; i++) {\n      b = branchs[i];\n      p1 = new Point(b[0], b[1]);\n      p2 = new Point(b[2], b[3]);\n      p3 = new Point(b[4], b[5]);\n      r = b[6];\n      l = b[7];\n      c = b[8];\n      s.addBranch(new Branch(s, p1, p2, p3, r, l, c));\n    }\n  },\n\n  removeBranch: function(branch) {\n    let branchs = this.branchs;\n    for (let i = 0; i < branchs.length; i++) {\n      if (branchs[i] === branch) {\n        branchs.splice(i, 1);\n      }\n    }\n  },\n\n  canGrow: function() {\n    return !!this.branchs.length;\n  },\n  grow: function() {\n    let branchs = this.branchs;\n    for (let i = 0; i < branchs.length; i++) {\n      let branch = branchs[i];\n      if (branch) {\n        branch.grow();\n      }\n    }\n  },\n\n  addBloom: function(bloom) {\n    this.blooms.push(bloom);\n  },\n\n  removeBloom: function(bloom) {\n    let blooms = this.blooms;\n    for (let i = 0; i < blooms.length; i++) {\n      if (blooms[i] === bloom) {\n        blooms.splice(i, 1);\n      }\n    }\n  },\n\n  createBloom: function(\n    width,\n    height,\n    radius,\n    figure,\n    color,\n    alpha,\n    angle,\n    scale,\n    place,\n    speed\n  ) {\n    let x, y;\n    /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n    while (true) {\n      x = random(20, width - 20);\n      y = random(20, height - 20);\n      if (inheart(x - width / 2, height - (height - 40) / 2 - y, radius)) {\n        return new Bloom(\n          this,\n          new Point(x, y),\n          figure,\n          color,\n          alpha,\n          angle,\n          scale,\n          place,\n          speed\n        );\n      }\n    }\n  },\n\n  canFlower: function() {\n    return !!this.blooms.length;\n  },\n  flower: function(num) {\n    let s = this,\n      blooms = s.bloomsCache.splice(0, num);\n    for (let i = 0; i < blooms.length; i++) {\n      s.addBloom(blooms[i]);\n    }\n    blooms = s.blooms;\n    for (let j = 0; j < blooms.length; j++) {\n      blooms[j].flower();\n    }\n  },\n\n  snapshot: function(k, x, y, width, height) {\n    let ctx = this.ctx;\n    let image = ctx.getImageData(x, y, width, height);\n    this.record[k] = {\n      image: image,\n      point: new Point(x, y),\n      width: width,\n      height: height\n    };\n  },\n  setSpeed: function(k, speed) {\n    this.record[k || \"move\"].speed = speed;\n  },\n  move: function(k, x, y) {\n    let s = this,\n      ctx = s.ctx;\n    let rec = s.record[k || \"move\"];\n    let point = rec.point,\n      image = rec.image,\n      speed = rec.speed || 10,\n      width = rec.width,\n      height = rec.height;\n\n    let i = point.x + speed < x ? point.x + speed : x;\n    let j = point.y + speed < y ? point.y + speed : y;\n\n    ctx.save();\n    ctx.clearRect(point.x, point.y, width, height);\n    ctx.putImageData(image, i, j);\n    ctx.restore();\n\n    rec.point = new Point(i, j);\n    rec.speed = speed * 0.95;\n\n    if (rec.speed < 2) {\n      rec.speed = 2;\n    }\n    return i < x || j < y;\n  },\n\n  jump: function() {\n    let s = this,\n      blooms = s.blooms;\n    if (blooms.length) {\n      for (let i = 0; i < blooms.length; i++) {\n        blooms[i].jump();\n      }\n    }\n    if ((blooms.length && blooms.length < 3) || !blooms.length) {\n      let bloom = this.opt.bloom || {},\n        width = bloom.width || this.width,\n        height = bloom.height || this.height,\n        figure = this.seed.heart.figure;\n      // eslint-disable-next-line no-unused-vars\n      let r = 240;\n      // eslint-disable-next-line no-redeclare\n      for (let i = 0; i < random(1, 2); i++) {\n        blooms.push(\n          this.createBloom(\n            width / 2 + width,\n            height,\n            r,\n            figure,\n            null,\n            1,\n            null,\n            bloom.scale,\n            new Point(random(-100, 600), 720),\n            random(200, 300)\n          )\n        );\n      }\n    }\n  }\n};\n\nlet Branch = function(tree, point1, point2, point3, radius, length, branchs) {\n  this.tree = tree;\n  this.point1 = point1;\n  this.point2 = point2;\n  this.point3 = point3;\n  this.radius = radius;\n  this.length = length || 100;\n  this.len = 0;\n  this.t = 1 / (this.length - 1);\n  this.branchs = branchs || [];\n};\n\nBranch.prototype = {\n  grow: function() {\n    let s = this,\n      p;\n    if (s.len <= s.length) {\n      p = bezier([s.point1, s.point2, s.point3], s.len * s.t);\n      s.draw(p);\n      s.len += 1;\n      s.radius *= 0.97;\n    } else {\n      s.tree.removeBranch(s);\n      s.tree.addBranchs(s.branchs);\n    }\n  },\n  draw: function(p) {\n    let s = this;\n    let ctx = s.tree.ctx;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = \"rgb(35, 31, 32)\";\n    ctx.shadowColor = \"rgb(35, 31, 32)\";\n    ctx.shadowBlur = 2;\n    ctx.moveTo(p.x, p.y);\n    ctx.arc(p.x, p.y, s.radius, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.fill();\n    ctx.restore();\n  }\n};\n\nlet Bloom = function(\n  tree,\n  point,\n  figure,\n  color,\n  alpha,\n  angle,\n  scale,\n  place,\n  speed\n) {\n  this.tree = tree;\n  this.point = point;\n  this.color =\n    color || \"rgb(255,\" + random(0, 255) + \",\" + random(0, 255) + \")\";\n  this.alpha = alpha || random(0.3, 1);\n  this.angle = angle || random(0, 360);\n  this.scale = scale || 0.1;\n  this.place = place;\n  this.speed = speed;\n\n  this.figure = figure;\n};\nBloom.prototype = {\n  setFigure: function(figure) {\n    this.figure = figure;\n  },\n  flower: function() {\n    let s = this;\n    s.draw();\n    s.scale += 0.1;\n    if (s.scale > 1) {\n      s.tree.removeBloom(s);\n    }\n  },\n  draw: function() {\n    let s = this,\n      ctx = s.tree.ctx,\n      figure = s.figure;\n\n    ctx.save();\n    ctx.fillStyle = s.color;\n    ctx.globalAlpha = s.alpha;\n    ctx.translate(s.point.x, s.point.y);\n    ctx.scale(s.scale, s.scale);\n    ctx.rotate(s.angle);\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    for (let i = 0; i < figure.length; i++) {\n      let p = figure.get(i);\n      ctx.lineTo(p.x, -p.y);\n    }\n    ctx.closePath();\n    ctx.fill();\n    ctx.restore();\n  },\n  jump: function() {\n    let s = this,\n      height = s.tree.height;\n\n    if (s.point.x < -20 || s.point.y > height + 20) {\n      s.tree.removeBloom(s);\n    } else {\n      s.draw();\n      s.point = s.place\n        .sub(s.point)\n        .div(s.speed)\n        .add(s.point);\n      s.angle += 0.05;\n      s.speed -= 1;\n    }\n  }\n};\n"]}]}